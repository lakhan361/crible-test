
HEC configuration: 

In short: stop configuring HEC on UF → that’s why you’re seeing 404.
All HEC setup must be done on Cribl Worker, UF only forwards.


What’s inside

docker-compose.yml (Leader, Worker, UF, log-writer)

uf-app/local/

inputs.conf, props.conf, transforms.conf (monitor logs/app.log)

outputs.conf (points to host.docker.internal:8088, token placeholder)

scripts/ helpers:

set-token.sh <TOKEN>

set-host.sh <HOST_OR_IP:PORT>

restart-uf.sh

health.sh

send-test.sh

README.md with step-by-step instructions focused ONLY on: enable HEC on Worker → paste token into UF → test.

Quick steps

Unzip → cd cribl-worker-hec_uf-forwarder

docker compose up -d

In Cribl Leader UI (http://localhost:19000) → Stream → Worker Group → Sources → Splunk HEC

Enable, set 0.0.0.0:8088, create token, Commit & Deploy

bash scripts/set-token.sh <YOUR_TOKEN>

(Linux without host.docker.internal?) bash scripts/set-host.sh 127.0.0.1:8088

bash scripts/restart-uf.sh

bash scripts/health.sh → should return a small JSON once HEC is enabled

bash scripts/send-test.sh → appends a line to logs/app.log and UF forwards it to Cribl

If you want, I can generate a variant that uses TLS on HEC (enable SSL in Cribl + adjust UF outputs.conf).